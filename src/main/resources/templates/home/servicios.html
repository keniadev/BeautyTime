<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/_mainLayout}">
<head>
    <meta charset="UTF-8">
    <title th:text="${categoria.nombreCategoria} + ' - BeautyTime'">Servicios</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <!-- FontAwesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="/css/servicios.css">
</head>
<body>
<div layout:fragment="content">

    <!-- Botón Agendar -->
    <div class="agendar-cita mb-4 text-center">
        <a th:href="@{/citas/form}" class="btn btn-agendar btn-primary">
            <i class="fas fa-calendar-check me-2"></i> Agendar Cita
        </a>
    </div>

    <!-- Cabecera de categoría -->
    <div class="container my-5">
        <div class="category-header text-center mb-5">
            <h1 class="display-4 fw-bold" th:text="${categoria.nombreCategoria}"></h1>
            <p class="lead text-muted">Explora la variedad de servicios de alta calidad que ofrecemos.</p>
        </div>

        <!-- Lista de servicios -->
        <div class="row" th:if="${servicios != null and !servicios.isEmpty()}">
            <div th:each="servicio : ${servicios}" class="col-12 col-sm-6 col-md-4 mb-4">
                <div class="card service-card h-100 shadow-lg border-0 rounded-4 overflow-hidden">

                    <!-- Imagen del servicio -->
                    <div class="service-gallery">
                        <img th:if="${servicio.imagenUrl != null and servicio.imagenUrl != ''}"
                             th:src="@{${servicio.imagenUrl}}"
                             class="card-img-top service-image"
                             th:alt="${servicio.nombreServicio}"
                             data-bs-toggle="modal"
                             data-bs-target="#imageModal"
                             th:data-src="@{${servicio.imagenUrl}}">

                        <div th:if="${servicio.imagenUrl == null or servicio.imagenUrl == ''}"
                             class="image-placeholder d-flex align-items-center justify-content-center"
                             style="height: 200px; background-color: #f0f0f0;">
                            <i class="fas fa-camera fa-2x text-muted"></i>
                        </div>
                    </div>

                    <!-- Detalles del servicio -->
                    <div class="card-body d-flex flex-column justify-content-between">
                        <div>
                            <h5 class="card-title fw-bold" th:text="${servicio.nombreServicio}"></h5>
                            <p class="card-text small" th:text="${servicio.descripcion}"></p>
                        </div>
                        <div class="service-details mt-3 pt-3 border-top d-flex justify-content-between align-items-center">
                            <span class="price-tag badge fw-bold p-2 rounded-pill">
                                <i class="fas fa-dollar-sign"></i> <span th:text="${servicio.precio}"></span>
                            </span>
                            <span class="duration-tag small">
                                <i class="far fa-clock"></i> <span th:text="${servicio.duracion + ' min'}"></span>
                            </span>
                        </div>
                    </div>

                    <div class="mt-3 text-center">
                        <a th:href="@{/citas/form(servicioId=${servicio.id})}"
                           class="btn btn-sm btn-primary w-100">
                            <i class="fas fa-calendar-alt me-1"></i> Agendar este Servicio
                        </a>
                    </div>

                </div>
            </div>
        </div>

        <!-- Mensaje si no hay servicios -->
        <div th:if="${servicios != null and servicios.isEmpty()}" class="text-center py-5">
            <h4 class="text-muted">No hay servicios disponibles en esta categoría</h4>
            <p class="text-muted">Pronto agregaremos nuevos servicios</p>
            <a th:href="@{/catalogo/categorias}" class="btn btn-outline-primary mt-3">
                ← Volver a Categorías
            </a>
        </div>
    </div>
</div>




<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


</div>
</body>
</html>
